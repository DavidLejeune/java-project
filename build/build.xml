<?xml version="1.0"?>
 <project name="java-project" default="inform" basedir=".">
 
   
   <!-- set global properties for this build -->
    <property name="reports-tests" location="./test-reports/"/>
    <property name="bin" location="./bin"/>
    <property name="src" location="./src"/>
    <property name="job-build" location="../"/>

    <property name="main-class"  value="javaunittestapp.code.JavaUnittestApp"/>
    <property name="app-name"  value="APP-NAME"/>





    <target name="delete">
            <delete dir="${reports-test}"/>
            <delete dir="${bin}"/>
            <delete dir="${src}"/>
    </target>

    <target name="create" depends="delete">
            <mkdir dir="${test-reports}"/>
            <mkdir dir="${bin}"/>
            <mkdir dir="${src}"/>
            <mkdir dir="${src}"/>
    </target>


   <target name="copy" depends="create">
           <copydir dest="${src}" src="../" excludes="**/build/**" />
           <copy todir="${src}" overwrite="true">
                   <fileset dir="./src" includes="**/*.jar"></fileset>
           </copy>
   </target>

      <!--<target name="compile" depends="copy">
           <javac srcdir="${src}" destdir="${bin}"/>
       </target>-->

       <target name="compile" depends="copy">
               <javac includeantruntime="false" srcdir="${src}" destdir="${bin}" classpath="../lib/junit.jar"/>
       </target>

       <target name="jar" depends="compile">
           <jar destfile="${jar}/${app-name}.jar" basedir="${bin}">
               <manifest>
                   <attribute name="Main-Class" value="${main-class}"/>
               </manifest>
           </jar>
       </target>

       <target name="run" depends="jar">
           <java jar="${jar}/${app-name}.jar" fork="true"/>
       </target>

    <target name="inform" depends="run">
        <echo>Finished the job</echo>
    </target>
   </project>
